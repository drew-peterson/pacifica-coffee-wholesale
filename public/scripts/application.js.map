{"version":3,"sources":["app.js","controllers/AdminCtrl.js","controllers/CoffeeCtrl.js","controllers/HomeCtrl.js","controllers/navCtrl.js","routes/appRoutes.js","services/itemsService.js","services/localStorageService.js","services/sessionService.js","directives/admin/addItem.js","directives/admin/adminCard.js","directives/admin/adminLogin.js","directives/admin/adminSideMenu.js","directives/coffee/coffeeBag.js","directives/coffee/coffeeBagItem.js","directives/coffee/coffeeCard.js","directives/coffee/coffeeScroll.js","directives/coffee/learnMore.js","directives/coffee/notificationBar.js","directives/coffee/showFilter.js","directives/custom/lazyLoad.js","directives/home/homeCard.js","directives/home/videoHero.js","directives/nav/toggleClass.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvHA;AACA;AACA;AACA;AACA;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"application.js","sourcesContent":["angular.module('pacificaApp',\n  [\n  'ngAnimate',\n  'ui.router', \n  'appRoutes',  \n  'NavCtrl',\n  'ngTouch',  \n  'HomeCtrl', \n  'AdminCtrl',\n  'CoffeeCtrl'\n  ])\n\n// Capitialize =========================\n\n.filter('capitalize', function() {\n    return function(input, all) {\n      var reg = (all) ? /([^\\W_]+[^\\s-]*) */g : /([^\\W_]+[^\\s-]*)/;\n      return (!!input) ? input.replace(reg, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();}) : '';\n    };\n  })\n// ========================================\n\n// angular reverse row...\n.filter('reverse', function() {\n  return function(items) {\n    return items.slice().reverse();\n  };\n});\n\n","angular.module('AdminCtrl',[])\n\n.controller('AdminCtrl', function(itemsService, $scope, sessionService){    \n\t\n\t$scope.items; // holds all the items...  \n\n\t// triggers for hidding and showing\n\t$scope.triggers = {    \n\t\tshowAdd: false,  \n\t\tshowMenu: false\n\t}\n\n\t// GET ALL ITEMS ===========================================\n\titemsService.get().success(function(data){\n\t\t$scope.items = data.coffees;\n\n\t\t$scope.loggedIn = sessionService.loggedIn;  \n\t})\n\t.error(function(data){\n\t\tconsole.log(' get error');  \n\t})\n\n\n\t// WATCH for logged in success for sessionService\n\t$scope.$watch(function(){\n\t\treturn sessionService.loggedIn;\n\t},function(newVal, oldVal){\n\t\t$scope.loggedIn = newVal;\n\t}, true); // true is important\n\t\n})\n\n\n\n\n\n\n\n\n","angular.module('CoffeeCtrl', [])\n\n.controller('CoffeeCtrl', function(itemsService, $scope, localStorageService){\n\tvar CC = this;\n\tCC.items; // all items\n\n\tCC.bag = []; // bag\n\n\tCC.filterBy = {\n\t\tregions: [ {name: 'Blends', region: []},{name: 'Indonesia', region: []},{name:'Central/South America', region:[]}, {name:'Africa', region:[]}],\n\t\troasts: [ {name: 'Full City Roast', roast:[]},{name:\"City Roast\", roast: []}, {name:\"French Roast\", roast:[]}]\n\t}; // Coffee Filter\n\n\t// GET ALL ITEMS ===========================================\n\titemsService.get().success(function(data){\n\t\tCC.items = data.coffees;\n\t\tcreateFilter();\n\t})\n\t.error(function(data){\n\t\tconsole.log(' get error');   \n\t});\n\n\t// Add To bag ============================================\n\n\tCC.addTobag = function(item){\n\t\tvar idx = checkIndex(item);\n\t\tif(idx == -1){ // item does not exist\n\t\t\tCC.bag.push(item);\n\t\t}\n\t\tsetLocalStorage(item);\n\t\tupdateTotal();\n\n\t};\n\n\t// Remove From bag ============================================\n\tCC.removeFromBag = function(item){\n\t\tvar idx = checkIndex(item);\n\t\tif(idx >= 0){\t\n\t\t\tCC.bag.splice(idx, 1);\n\t\t};\n\t\tlocalStorageService.delete(item);\n\t\tupdateTotal();\n\t};\n\n\t// UPDATE BAG ==================================================\n\tCC.updateBag = function(item){\n\t\tlocalStorageService.update(item);\n\t\tupdateTotal();\n\t}\n\n\t// get item index for bag ==================================\n\tvar checkIndex = function(item){\n\t\tvar idx = CC.bag.indexOf(item);\n\t\treturn idx\n\t};\n\n\tvar updateTotal = function(){\n\t\tCC.total = {amount: 0,total: 0} // total\n\t\tCC.bag.forEach(function(item){\n\t\t\tvar total = item.price * item.qty;\n\t\t\tCC.total.amount += Number(item.qty);\n\t\t\tCC.total.total += total;\n\t\t});\n\t}\n\n\t// LocalStorage ===========================================\n\n\tvar setLocalStorage = function(item){\n\t\tvar coffeeItems = localStorageService.set(item);\n\t}\n\n\t// saves bag on refresh and page leave...\n\tcheckLocalStorage = function(){\n\t\tvar ls = localStorageService.get()\n\t\tif(ls){\n\t\t\tCC.bag = ls\n\t\t\tupdateTotal();\n\t\t};\n\t}()\n\n\t// Filter ===============\n\tvar createFilter = function(){\n\t\tCC.items.forEach(function(coffee){\n\t\t\tvar region = coffee.region; // region\n\t\t\tvar roast = coffee.roast; // roast\n\t\t\t \n\t\t\tregionFilter(region, coffee);\n\t\t\troastFilter(roast, coffee);\n\t\t});\n\t};\n\n\t// Coffee Region filter =====================\n\n\tvar regionFilter = function(region, coffee){\n\t\tvar regions = CC.filterBy.regions;\n\n\t\tfor(var i=0; i<regions.length; i++){\n\t\t\tvar exists = regions[i].name === region;\n\n\t\t\tif(exists){\n\t\t\t\tregions[i].region.push(coffee);\n\t\t\t}\n\t\t}\n\t};\n\n\t// Coffee roastFilter push ==================\n\tvar roastFilter = function(roast, coffee){\n\tvar roasts = CC.filterBy.roasts;\n\n\t\tfor(var i=0; i<roasts.length; i++){\n\n\t\t\tvar exists = roasts[i].name === roast;\n\n\t\t\tif(exists){\n\t\t\t\troasts[i].roast.push(coffee);\n\t\t\t}\n\t\t}\n\t};\n}); // end of ctrl\n","angular.module('HomeCtrl', [])\n.controller('HomeCtrl',function(){}); \n\n\n","angular.module('NavCtrl',[])\n\n.directive('navigation',function(){\n\treturn {  \n\t\tscope: true,\n\t\treplace: true,\n\t\tcontroller: function(){},\n\t\tlink: function(scope, elem, attrs){\n\n\t\t\tvar active;\n\t\t\tvar navBtn = elem.find('.nav-open');\n\t\t\tvar home = navBtn.parent().find('.title');\n\t\t\tvar mask = $('.mask-overlay');\n\t\t\t\n\t\t\t// Mobile Menu\n\t\t\tnavBtn.on('click',function(){\n\n\t\t\t\tvar sideNav = elem.find('#sideNav');\n\t\t\t\tvar link = sideNav.find('.link');\n\t\t\t\tvar iconText = elem.find('#sideNav .iconText');\n\n\t\t\t\tif(!active){\n\t\t\t\t\tsideNav.addClass('showSideNavM');\n\t\t\t\t\ticonText.addClass('showIconText');\n\t\t\t\t\tmask.addClass('show');\n\t\t\t\t\tactive = true;\n\t\t\t\t}else{\n\t\t\t\t\tsideNav.removeClass('showSideNavM');\n\t\t\t\t\tsideNav.removeClass('showSideNavD');\n\t\t\t\t\ticonText.removeClass('showIconText'); \n\t\t\t\t\tmask.removeClass('show');\n\t\t\t\t\tactive = false;\n\t\t\t\t\t// removeAll(sideNav, iconText, mask);\n\t\t\t\t}\n\n\t\t\t\t// on home btn click remove everything\n\t\t\t\thome.on('click',function(){\n\t\t\t\t\tsideNav.removeClass('showSideNavM');\n\t\t\t\t\tsideNav.removeClass('showSideNavD');\n\t\t\t\t\ticonText.removeClass('showIconText');\n\t\t\t\t\tmask.removeClass('show'); \n\t\t\t\t\tactive = false;\n\t\t\t\t\t// removeAll(sideNav, iconText, mask);\n\t\t\t\t})\n\n\t\t\t\t// set active to false on link click;\n\t\t\t\tlink.on('click', function(){\n\t\t\t\t\tmask.removeClass('show');\n\t\t\t\t\tactive = false;\n\t\t\t\t})\n\t\t\t\tmask.on('click',function(){\n\t\t\t\t\tsideNav.removeClass('showSideNavM');\n\t\t\t\t\tsideNav.removeClass('showSideNavD');\n\t\t\t\t\ticonText.removeClass('showIconText');\n\t\t\t\t\tmask.removeClass('show'); \n\t\t\t\t\tactive = false;\n\t\t\t\t\t// removeAll(sideNav, iconText, mask);\n\t\t\t\t})\n\t\t\t})\n\n\t\t\t\t// disable mouseenter event on touch devices prevents apple....\n\t\t\t\tif($(window).width() >= 768){\n\n\t\t\t\t\tnavBtn.on('mouseenter',function(){\n\t\t\t\t\t\tvar sideNav = elem.find('#sideNav');\n\t\t\t\t\t\tvar iconText = $('#sideNav .iconText');\n\t\t\t\t\t\tvar mask = $('.mask-overlay');\n\t\t\t\t\t\t\n\t\t\t\t\t\tsideNav.addClass('showSideNavD');\n\t\t\t\t\t\tmask.addClass('show');\n\n\t\t\t\t\t\tsideNav.on('mouseenter',function(){\n\t\t\t\t\t\t\ticonText.addClass('showIconText');\n\t\t\t\t\t\t\tsideNav.addClass('showSideNavM');\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tsideNav.on('mouseleave',function(){\n\t\t\t\t\t\t\tmask.removeClass('show');\n\t\t\t\t\t\t\tsideNav.removeClass('showSideNavD');\n\t\t\t\t\t\t\tsideNav.removeClass('showSideNavM');\n\t\t\t\t\t\t\ticonText.removeClass('showIconText');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\tnavBtn.on('mouseleave',function(){\n\t\t\t\t\t\tvar sideNav = elem.find('#sideNav');\n\t\t\t\t\t\tsideNav.removeClass('showSideNavD');\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\tvar removeAll = function(sideNav, iconText, mask){\n\t\t\t\tsideNav.removeClass('showSideNavM');\n\t\t\t\tsideNav.removeClass('showSideNavD');\n\t\t\t\ticonText.removeClass('showIconText');\n\t\t\t\tmask.removeClass('show'); \n\t\t\t\tactive = false;\n\t\t\t}\n\t\t},\n\t\ttemplateUrl: 'views/nav/nav.html'\n\t} \n})\n\n.directive('sideNav',function(){\n\treturn {\n\t\tscope: true,\n\t\treplace: true,\n\t\tcontroller: function(){},\n\t\tlink: function(scope, elem, attrs){\n\t\t\tvar link = elem.find('.link a');\n\t\t\tvar sideNav = $('#sideNav');\n\t\t\tvar iconText = $('#sideNav .iconText'); \n\n\t\t\t// Hide side nav when link is pressed...\n\t\t\tlink.on('click',function(){\n\t\t\t\tsideNav.removeClass('showSideNavM');\n\t\t\t\tsideNav.removeClass('showSideNavD');\n\t\t\t\ticonText.removeClass('showIconText'); \n\t\t\t})  \n\n\t\t},\n\t\ttemplateUrl: 'views/nav/sideNav.html'\n\t} \n})\n\n","angular.module('appRoutes', [])\n\n.config(function($stateProvider, $urlRouterProvider, $locationProvider) {\n\n  $urlRouterProvider.otherwise('/');\n\n  $stateProvider\n    .state('home',{\n      url: '/',\n      templateUrl: '../views/home/home.html', \n      controller: 'HomeCtrl',\n      controllerAs: 'home'\n    })\n   .state('coffee',{\n      url: '/coffee',\n      templateUrl: '../views/coffee/coffee.html',\n      controllerAs: 'CC',\n      controller: 'CoffeeCtrl'  \n    })\n    .state('bag',{\n      url: '/bag',\n      templateUrl: '../views/bag/bag.html',\n      controllerAs: 'bag' \n    })\n    .state('admin',{\n      url: '/admin',\n      templateUrl: '../views/admin/admin.html',\n      controller: 'AdminCtrl',\n      controllerAs: 'admin'\n    })\n   \n\n    // GoogleBot SEO\n    $locationProvider.html5Mode(true);\n    $locationProvider.hashPrefix('!');\n\n});\n","angular.module('pacificaApp')\n\n.service('itemsService', function($http){ \n  return {\n    get: function(){\n      return $http.get('/api/coffees'); \n    },\n    post: function(data){  \n      return $http.post('api/coffees', data);\n    },\n    put: function(data, id){\n      return $http.put('api/coffees/' + id, data);\n    },\n    delete: function(id){  \n      return $http.delete('api/coffees/' + id);\n    }\n  }\n})","angular.module('pacificaApp')\n\n.service('localStorageService', function(){ \n  \n  return {\n    idx: function(item){\n      var ls = this.get();\n      var coffeeNames = [];\n\n      ls.forEach(function(item){\n        coffeeNames.push(item.name)\n      })\n      return coffeeNames.indexOf(item.name);\n    },\n    get: function(){\n      var ls = JSON.parse(localStorage.getItem('pacificaWholesaleBag'));\n      return ls\n    },\n    set: function(data){\n      // get localStorage\n      var coffeeItems = this.get();\n\n      // if there are more then 1 item in bag\n      if(coffeeItems && coffeeItems.length >= 1){\n        if(this.idx(data)){ // item does not exist\n          coffeeItems.push(data);\n        }         \n    // NEW BAG\n      }else{\n        coffeeItems = [];\n        coffeeItems.push(data);\n      }\n      // set the localStorage\n      localStorage.setItem('pacificaWholesaleBag', JSON.stringify(coffeeItems));\n      return coffeeItems;\n    }, // set\n    update: function(item){\n      console.log('updating?', item)\n      var coffeeItems = this.get();\n      var idx = this.idx(item);\n\n      coffeeItems[idx] = item;\n      localStorage.setItem('pacificaWholesaleBag', JSON.stringify(coffeeItems));\n    },\n    delete: function(item){\n      var coffeeItems = this.get();\n      var idx = this.idx(item);\n\n      coffeeItems.splice(idx, 1);\n\n      localStorage.setItem('pacificaWholesaleBag', JSON.stringify(coffeeItems));\n    }\n  }\n})","angular.module('pacificaApp')\n.service('sessionService', function($http){ \n  return {\n    loggedIn: false,\n    userId: '',\n    login: function(data){\n    \tvar sData = JSON.stringify(data);\n    \treturn $http.post('admin/login', sData);\n    },\n    delete: function(data, id){\n      return $http.put('admin/logout/' + id, data);\n    }\n  }\n});","angular.module('AdminCtrl').directive('addItem', function(){\n\treturn {\n\t\trestrict: 'AE',\n\t\treplace: true,\n\t\tscope: {\n\t\t\ttriggers: '=', \n\t\t\tallData: '=',\n\t\t\tsaveItems:'='\n\t\t},\n\t\tcontroller: function($scope, itemsService){\n\t\t\t$scope.newItem = {\n\t\t\t\tname: 'Name',\n\t\t\t\tprice: \"Price\",\n\t\t\t\tdescription: 'description',\n\t\t\t\tregion: \"region\",\n\t\t\t\troast: \"roast\",\n\t\t\t\timage: \"image\"\n\t\t\t};\n\t\t\t// create new item\n\t\t\t$scope.addItem = function(){\t\n\t\t\t\tconsole.log($scope.newItem);\n\t\t\t\tvar newItem = JSON.stringify($scope.newItem);\n\n\t\t\t\titemsService.post(newItem).success(function(response){\n\t\t\t\t\t$scope.allData.unshift(response.coffees); // add to top of list;\n\t\t\t\t})\n\t\t\t\t.error(function(data){\n\t\t\t\t\tconsole.log(' post error');\n\t\t\t\t}) \n\t\t\t} \n\t\t},\n\t\tlink: function(scope, elem, attrs){\n\t\t\tdocument.getElementById('photoUpload').addEventListener('change', readUrl, true);\n\n\t\t\tfunction readUrl(){\n\t\t\t\tvar file = document.getElementById('photoUpload').files[0];\n\t\t\t\tvar reader = new FileReader();\n \t\t\t\treader.onloadend = function(){ \n\t\t\t\tdocument.getElementById('uploadPreview').style.backgroundImage = \"url(\" + reader.result + \")\";        \n\t\t    \tscope.newItem.image = reader.result;\n\t\t   }\n\t\t    \n\t\t   if(file){\n\t\t      reader.readAsDataURL(file);\n\t\t    }else{\n\t\t\t\t\tconsole.log('else')\n\t\t\t\t}\n\t\t\t}\n\n\t\t},\n\t\ttemplateUrl: 'views/admin/addItem.html'\n\t}\n})","'use strict';\n\nangular.module('AdminCtrl').directive('adminCard', function($animate){\n\treturn {\n\t\trestrict: 'AE',\n\t\treplace: true, \n\t\tscope: {\n\t\t\t'itemData': '=',  \n\t\t\t'triggers': '=', \n\t\t\t'saveItems': '=',\n\t\t\t'allData': '=' \n\t\t},\n\t\tcontroller: function($scope){},\n\t\tlink: function(scope, elem, attrs){\n\t\t\tvar openBtn = elem.find('#adminShowMenu');\n\t\t\tvar menu = elem.find('.admin-push-menu');\n\n\t\t\t// open menu -- close menu is in adminsideMenu.js\n\t\t\topenBtn.on('click', function(){\n\t\t\t\tscope.$apply(function(){\n\t\t\t\t\t$animate.addClass(menu, 'showMenu'); \n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\ttemplateUrl: \"views/admin/adminCard.html\"\n\t}\n})","angular.module('AdminCtrl')\n.directive('adminLogin',function(sessionService){\n\treturn {\n\t\tscope: true,\n\t\treplace: true,\n\t\tcontroller: function($scope){\n\t\t\tloginCtrl = this;\n\n\t\t\tloginCtrl.admin = {\n\t\t\t\tusername: '',\n\t\t\t\tpassword: '',\n\t\t\t};\n\n\t\t\tloginCtrl.login = function(){\n\t\t\t\tconsole.log('click')\n\t\t\t\tsessionService.login(loginCtrl.admin).success(function(response){\n\t\t\t\t\tconsole.log(response)\n\t\t\t\t\tsessionService.loggedIn = response.status;\n\t\t\t\t\tsessionService.userId = response.userId;\n\n\t\t\t\t\tloginCtrl.message = response.message;\n\n\t\t\t\t}).error(function(error){\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t})\n\t\t\t};\n\t\t},\n\t\tcontrollerAs: 'loginCtrl',\n\t\ttemplateUrl: 'views/admin/login.html'\n\t}\n});","angular.module('AdminCtrl')\n\n.directive('adminSideMenu', function($animate, itemsService){ \n\treturn {\n\t\trestrict: 'AE', \n\t\tscope: { \n\t\t\titemData: '=', \n\t\t\tsaveItems: '=',\n\t\t\ttriggers: '=',\n\t\t\tallData: '='   \n\t\t}, \n\t\ttemplateUrl: \"views/admin/adminSideMenu.html\", \n\t\tcontroller: function($scope){\n\t\t\t// var item = JSON.stringify($scope.itemData);\n\t\t\tvar item = $scope.itemData;\n\t\t\tvar itemId = $scope.itemData._id; \n\t\t\t$scope.changed;\n\n\t\t\t//update Item =============================\n\t\t\t$scope.updateItem = function(){\t\n\t\t\t\tif($scope.changed){\n\t\t\t\t\titemsService.put(item, itemId).success(function(response){\n\t\t\t\t\t\t// scope has already need changed to reflect new item\n\t\t\t\t\t}).error(function(response){\n\t\t\t\t\t\tconsole.log('update fail');\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t};\n\n\t\t\t// Delete Item ============================\n\t\t\t$scope.deleteItem = function(){\n\t\t\t\tvar id = $scope.allData.indexOf(item);\n\t\t\t\t// remove from arrary;\t\n\t\t\t\t$scope.allData.splice(id, 1);\n\t\t\t\t\n\t\t\t\titemsService.delete(itemId).success(function(response){\n\t\t\t\t}).error(function(response){\n\t\t\t\t\tconsole.log('delete fail')\n\t\t\t\t});\n\t\t\t};\n\t\t},\n\t\tlink: function(scope, elem, attrs){\n\t\t\tvar close = elem.find('.close');\n\t\t\tvar remove = elem.find('.delete');\n\t\t\tvar adminUpdate = elem.find('.adminUpdate')\n\t\t\tvar menu = elem.parent();\n\t\t\tvar overlay = $('.mask');\n\n\t\t\t// hide menu on close and overlay\n\t\t\tclose.on('click', function(){ hideMenu(); })\n\t\t\tremove.on('click', function(){ hideMenu(); })\n\t\t\toverlay.on('click', function(){ hideMenu() })\n\t\t\tadminUpdate.on('click', function(){ hideMenu() })\n\n\t\t\tfunction hideMenu(){\n\t\t\t\tscope.$apply(function(){\n\t\t\t\t\t$animate.removeClass(menu, 'showMenu');\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\n\t} // end of return\n})","angular.module('CoffeeCtrl')\n\n.directive('coffeeBag', function($document, $window){\n\treturn {\n\t\tscope:true,\n\t\treplace: true,\n\t\trestrict: 'AE', \n\t\tcontroller: function(){}, \n\t\tcontrollerAs: 'ctrl',\n\t\tbindToController: {}, \n\t\tlink: function(scope, el, attrs){\n\t\t\tvar open = $('.viewBag');\n\t\t\tvar close = $('.bag-close-wrap');\n\t\t\tvar bag = $('#coffeeBag');\n\t\t\tvar mask = $('.coffeeMask');\n\n\t\t\topen.on('click', function(){\n\t\t\t\tconsole.log('open')\n\t\t\t\tbag.addClass('toggle');\n\t\t\t\tmask.addClass('mask-overlay');\n\t\t\t})\n\n\t\t\tclose.on('click',function(){\n\t\t\t\tbag.removeClass('toggle');\n\t\t\t\tmask.removeClass('mask-overlay');\n\t\t\t})\n\n\t\t\tmask.on('click',function(){\n\t\t\t\tbag.removeClass('toggle');\n\t\t\t\tmask.removeClass('mask-overlay');\n\t\t\t})\n\n\n\t\t\t// remove BagBar when at bottom ==========\n\t\t\t\n\t\t\tvar footer = $('#footer');\n\t\t\tvar bar = $('#coffee .coffee-details');\n\t\t\t\t\n\t\t\t$document.on('scroll',function(){\n\t\t\t\tvar footerHeight = footer.offset().top\n\t\t\t\tvar windowHeight = $(window).height();\n\t\t\t\tvar scroll = $document.scrollTop();\n\t\t\t\tvar pos = footerHeight - scroll;\n\t\t\t\tvar nBar = $('#notificationBar');\n\n\t\t\t\tif((pos + 100) <= windowHeight){\n\t\t\t\t\tbar.fadeOut();\n\t\t\t\t\tnBar.fadeOut()\n\t\t\t\t}else{\n\t\t\t\t\tbar.fadeIn();\n\t\t\t\t\tnBar.fadeIn()\n\t\t\t\t}\n\t\t\t})\n\n\n\t\t},\n\t\ttemplateUrl: \"views/coffee/coffeeBag.html\"\n\t} \n});","\nangular.module('CoffeeCtrl')\n\n.directive('coffeeBagItem', function(){\n\treturn { \n\t\tscope:true,\n\t\treplace: true,\n\t\trestrict: 'AE',\n\t\tcontroller: function(){\n\t\t\tvar ctrl = this;\n\n\t\t\tctrl.options = [\n\t\t\t\t{name: 1,value: 1},{name: 2,value: 2},{name: 3,value: 3},{name: 4,value: 4},{name: 5,value: 5},{name: 6,value: 6},{name: 7,value: 7},{name: 8,value: 8},{name: 9,value: 9},{name: 10,value: 10},{name: 15,value: 15},{name: 20,value: 20},\n\t\t\t]\n\n\t\t\tctrl.remove = function(coffee){\n\t\t\t\tctrl.removeFromBag({coffee:coffee}); // has to be object...\n\t\t\t}\n\n\t\t\tctrl.update = function(coffee){\n\t\t\t\tctrl.updateBag({coffee:coffee})\n\t\t\t}\n\t\t}, \n\t\tcontrollerAs: 'ctrl',\n\t\tbindToController: {\n\t\t\titem: '=',\n\t\t\tremoveFromBag: '&',\n\t\t\tupdateBag: '&'\n\t\t},\n\t\tlink: function(scope, el, attrs){},\n\t\ttemplateUrl: \"views/coffee/coffeeBagItem.html\" \n\t} \n});\n\n\n// hide show menu.....\n\n\n","angular.module('CoffeeCtrl')\n\n.directive('coffeeCard', function(nService){\n\treturn {\n\t\treplace: true,\n\t\trestrict: 'AE',\n\t\tscope: true,\n\t\tcontroller: function(){\n\t\t\tvar ctrl = this;\n\n\t\t\tctrl.add = function(coffee){\n\t\t\t\tctrl.addToBag({coffee:coffee});\n\n\t\t\t\t// notifcation\n\t\t\t\tnService.addItem( coffee.name + ' Added');\n\t\t\t} \n\t\t},\n\t\tcontrollerAs: 'ctrl',\n\t\tbindToController: {\n\t\t\taddToBag: '&'  \n\t\t},\n\t\tlink: function(scope, elem, attrs){},\n\t\ttemplateUrl: 'views/coffee/coffee-card.html'\n\t}\n});\n","angular.module('CoffeeCtrl')\n\n.directive('scrollItem',function(){\n\treturn {\n\t\trestrict: 'AE',\n\t\tcontroller: function(){},\n\t\tlink: function(scope, elem, attrs){\n\t\t\tvar btn = attrs.class;\n\t\t\tvar idx = btn.indexOf('left');\n\n\t\t\telem.on('click',function(){\n\t\t\t\tvar first = $('.bagItem')[0]; // first item\n\t\t\t\tvar margin= $(first).css('marginLeft').replace('px','');\n\t\t\t\tconsole.log('css margin: ' + margin);\n\n\t\t\t\tif(idx >= 0){\n\t\t\t\t\tmarginLeft= (Number(margin) - 120);\n\t\t\t\t\t$(first).css('margin-left', marginLeft +'px');\n\n\t\t\t\t\tconsole.log(\"left: \" + marginLeft);\n\t\t\t\t}else{\n\t\t\t\t\tif(margin != '0'){\n\t\t\t\t\t\tmarginLeft= (Number(margin) + 120);\n\t\t\t\t\t\t$(first).css('margin-left', marginLeft +'px');\n\n\t\t\t\t\t\tconsole.log(\"right: \" + marginLeft);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}) // end of click\n\t\t}\n\t}\n}) ","angular.module('CoffeeCtrl')\n\n// learn More Parent Directive\n.directive('learnMore',function(){\n\treturn {\n\t\t// scope: true,\n\t\treplace: true,\n\t\tbindToController: {\n\t\t\troast: '&',\n\t\t},\n\t\tcontrollerAs: 'ctrl',\n\t\tcontroller: function(){}, \n\t\tlink: function(scope,elem, attrs){\n\t\t\tvar mask = $('.coffeeMask')\n\n\t\t\t// learn more btn show modal \n\t\t\t$('.lmBtn').on('click', 'h4', function(){\n\t\t\t\t// finds the closest filter Title when contains the roast\n\t\t\t\tvar filterTitle = $(this).closest('.card-wrapper').find('.filterTitle').text()\n\t\t\t\topenModal(filterTitle);\n\t\t\t})\n\n\t\t\t// close click....\n\t\t\t$('.learnMoreModalWrap').on('click', '.close', function(){\n\t\t\t\tcloseModal();\n\t\t\t})\n\n\t\t\t// close on mask click\n\t\t\tmask.on('click', function(){\n\t\t\t\tcloseModal();\n\t\t\t})\n\n\n\t\t\tfunction openModal(filterTitle){\n\t\t\t\t// search for a modal that contains the data attribute of the filterTitle\n\t\t\t\tvar modal = $(\"[data-roast='\" + filterTitle +\"']\");\n\t\t\t\t// becomes avaiblef from ng-if and now we show it.\n\t\t\t\tmodal.addClass('showModal');\n\t\t\t\t// prevent body scroll\n\t\t\t\tmask.addClass('mask-overlay');\n\n\t\t\t\t$('body').css('overflow','hidden');\n\t\t\t}\n\n\t\t\tfunction closeModal(){\n\t\t\t\t$('.learnMoreModal').removeClass('showModal');\n\t\t\t\tmask.removeClass('mask-overlay');\n\t\t\t\t$('body').css('overflow','initial');\n\t\t\t}\n\n\t\t},\n\t\ttemplateUrl: 'views/coffee/learnMore.html' \n\t}\n})\n\n// Full City Roast\n.directive('learnMoreFCR',function(){\n\treturn {\n\t\treplace: true,\n\t\ttemplateUrl: \"views/coffee/learnMore/fullCityRoast.html\"\n\t}\n})\n\n// City Roast\n.directive('learnMoreCR',function(){\n\treturn {\n\t\treplace: true,\n\t\ttemplateUrl: \"views/coffee/learnMore/cityRoast.html\" \n\t}\n})\n\n// French Roast\n.directive('learnMoreFR',function(){\n\treturn {\n\t\treplace: true,\n\t\ttemplateUrl: \"views/coffee/learnMore/frenchRoast.html\"\n\t}\n})\n","angular.module('CoffeeCtrl')\n.service('nService',function(){\n\treturn {\n\t\tnotifications: undefined,\n\t\taddItem: function(notice){\n\t\t\tthis.notifications = notice;\n\t\t}\n\t}\n})\n.directive('notificationBar',function($timeout, nService){\n\treturn{\n\t\tscope: true,\n\t\treplace: true,\n\t\tcontrollerAs: 'ctrl',\n\t\tcontroller: function($scope){\n\t\t\tctrl = this;\n\t\t\tctrl.notification; // hold the updated notificatiton\n\n\t\t\t// pass vars between directives use service!!! this will watch for changes\n\t\t\t// $watch('nService.notifcations') way does not work....\n\t\t\t$scope.$watch(function(){\n\t\t\t\treturn nService.notifications;\n\t\t\t},function(newVal, oldVal){\n\t\t\t\tctrl.existing = oldVal;\n\t\t\t\tctrl.notification = newVal;\n\t\t\t}, true); // true is important\n\t\t},\n\t\tlink: function(scope,elem,attrs){},\n\t\ttemplateUrl: 'views/coffee/notificationBar.html'\n\t}\n})\n\n// Hide show bar when variable changes....\n.directive('animateOnChange', function($animate,$timeout) {\n\treturn function(scope, elem, attr) {\n\t\tscope.$watch(attr.animateOnChange, function(nv,ov) {\n\t\t\tvar c = 'show';\n\t\t\t$animate.addClass(elem,c).then(function() {\n\t\t\t\t$timeout(function() {$animate.removeClass(elem,c)});\n\t\t\t});\n\t\t});\n\t}\t\n})\n\n\n\n\n\n\n\n\n\n\n","angular.module('CoffeeCtrl')\n.directive('showFilter',function(){\n\treturn {\n\t\tscope: true,\n\t\trestrict: 'A',\n\t\tlink: function(scope, elem, attrs){\n\t\t\tvar region = elem.find('.region');\n\t\t\tvar roast = elem.find('.roast');\n\t\t\tvar btns = elem.find('.filterBtn');\n\n\t\t\tregion.on('click',function(event){\n\t\t\t\tvar wrapper = $('.card-wrapper');\n\t\t\t\tvar hasClass = $(this).hasClass('active')\n\n\t\t\t\tif(!hasClass){\n\t\t\t\t\tbtns.removeClass('active');\n\t\t\t\t\t$(this).addClass('active'); \n\n\t\t\t\t\twrapper.hide();\n\t\t\t\t\t$('.regionCards').fadeIn();\n\t\t\t\t}\n\t\t\t})\n\n\t\t\troast.on('click',function(event){\n\t\t\t\tvar wrapper = $('.card-wrapper');\n\t\t\t\tvar hasClass = $(this).hasClass('active')\n\t\t\t\tif(!hasClass){\n\t\t\t\t\tbtns.removeClass('active');\n\t\t\t\t\t$(this).addClass('active');\n\n\t\t\t\t\twrapper.hide();\n\t\t\t\t\t$('.roastCards').fadeIn();\n\t\t\t\t}\n\t\t\t})\n\n\n\t\t}\n\t}\n})","// Lazy Load ======================================\n// lazy-load attr on image or background, must have parent...\nangular.module('pacificaApp')\n  .directive('lazyLoad', function($document, $window){ \n    return {\n      restrict: 'AE', \n      link: function(scope, elem, attrs){\n        var parent = $(elem).parent(); // image is hiden so we need container\n        var elPos = $(parent).offset().top; // position of parent\n        var windowHeight = $($window).height();\n\n        var barPos;\n        var position; \n\n        var loaded; // load image only once\n      \n        var offset = 100; // so the element is visible on page by 100px\n\n\n        // scroll event\n        $document.bind('scroll', function(){ \n          var barPos = $($document).scrollTop(); // scrollbar pos\n          var position = elPos - barPos; // elment pos from bottom of window\n          \n          if( ((position + offset) <= windowHeight) ){\n            if(!loaded){\n              loadImage();\n            }\n          }\n        });\n        // load Images =================\n        var loadImage = function(){\n            $(elem).fadeIn();\n            console.log('loading image');\n            loaded = true;\n        }\n\n      } // end of link\n    } // end of return\n}) // end of directive\n// ===============================================","angular.module('HomeCtrl').directive('homeCard', function(){\n\treturn { \n\t\trestrict: 'AE', \n\t\treplace: true,\n\t\tscope: {\n\t\t\t'title': '@',\n\t\t\t'color': '@',\n\t\t\t'button': '@', \n\t\t\t'content': '@',\n\t\t\t'image': '@',\n\t\t\t'textColor': '@', \n\t\t\t'url': '@',  \n\t\t},\n\t\ttemplateUrl: \"views/home/homeCard.html\" \n\t}\n})","angular.module('HomeCtrl').directive('videoHero', function(){ \n\treturn {\n\t\trestrict: 'AE', \n\t\treplace: true,\n\t\tlink: function(scope, elem, attr){ \n\n\t\t\t// play video when it buffers\n\t\t\tvar video = document.getElementById('bgvid');\n\t\t\tvar chrome = navigator.appVersion.indexOf('Chrome');\n\t\t\t// if Chrome Else\n\t\t\tif(chrome != 0){\t\n\t\t\t\tvideo.play(); \n\t\t\t}else{\n\t\t\t\tvideo.oncanplaythrough = function() {\n    \t\t\t\tvideo.play(); \n\t\t\t\t};\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\ttemplateUrl: \"views/home/youtube.html\" \n\t}\n}); ","angular.module('NavCtrl').directive('toggleClass', function(){\n\treturn {\n\t\trestrict: 'A',\n\t\tlink: function(scope, element, attrs) {\n\t\n\t\t\t// clicking ham menu in mobile mode only\n\t\t\telement.bind('click', function(){\n\t\t\t\tvar isMobile = event.sourceCapabilities.firesTouchEvents;\n\t\t\t\tif(isMobile){\n\t\t\t\t\t\n\t\t\t\t\t$('#sideNav').removeClass('hover');\n\t\t\t\t\t$('#sideNav').toggleClass('active');\t\n\n\t\t\t\t\t$('#main').on('click', function(){\n\t\t\t\t\t\t$('#sideNav').removeClass('hover');\n\t\t\t\t\t\t$('#sideNav').removeClass('active');\n\n\t\t\t\t\t\t// remove listner\n\t\t\t\t\t\t$(this).off()\t\t\t\t\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t});\n\t\t} // end of link\n\t}\n});"],"sourceRoot":"/source/"}